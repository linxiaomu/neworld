(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{466:function(s,a,t){s.exports=t.p+"assets/img/bd01.9c670b33.png"},467:function(s,a,t){s.exports=t.p+"assets/img/bd02.ed43cf5f.png"},468:function(s,a,t){s.exports=t.p+"assets/img/bd03.b18b66f6.png"},469:function(s,a,t){s.exports=t.p+"assets/img/bd04.d9db969e.png"},470:function(s,a,t){s.exports=t.p+"assets/img/bd05.bb834a07.png"},471:function(s,a,t){s.exports=t.p+"assets/img/db06.8751836b.png"},472:function(s,a,t){s.exports=t.p+"assets/img/db07.09810531.png"},473:function(s,a,t){s.exports=t.p+"assets/img/db08.bd52760e.png"},474:function(s,a,t){s.exports=t.p+"assets/img/db09.78a8dc01.png"},475:function(s,a,t){s.exports=t.p+"assets/img/db10.08c39ead.png"},476:function(s,a,t){s.exports=t.p+"assets/img/db11.a2cc6e97.png"},477:function(s,a,t){s.exports=t.p+"assets/img/db12.fc123f2a.png"},478:function(s,a,t){s.exports=t.p+"assets/img/db13.100b1d63.png"},479:function(s,a,t){s.exports=t.p+"assets/img/db14.d36d1099.png"},480:function(s,a,t){s.exports=t.p+"assets/img/db15.a52dc268.png"},481:function(s,a,t){s.exports=t.p+"assets/img/db16.cab775fa.png"},482:function(s,a,t){s.exports=t.p+"assets/img/linux17png.c8004ab9.png"},483:function(s,a,t){s.exports=t.p+"assets/img/linux18.82d22ec1.png"},484:function(s,a,t){s.exports=t.p+"assets/img/linux19.cce30d07.png"},485:function(s,a,t){s.exports=t.p+"assets/img/db20.d9a0c591.png"},486:function(s,a,t){s.exports=t.p+"assets/img/db21.3ab6895d.png"},487:function(s,a,t){s.exports=t.p+"assets/img/db22.e9215e56.png"},488:function(s,a,t){s.exports=t.p+"assets/img/db23.ea5a7f9d.png"},489:function(s,a,t){s.exports=t.p+"assets/img/db24.2008de89.png"},630:function(s,a,t){"use strict";t.r(a);var n=t(3),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"_1、大数据概论"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1、大数据概论"}},[s._v("#")]),s._v(" 1、大数据概论")]),s._v(" "),n("h3",{attrs:{id:"_1-1-大数据概念"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-大数据概念"}},[s._v("#")]),s._v(" 1.1 大数据概念")]),s._v(" "),n("p",[s._v("大数据（big data），IT行业术语，是指无法在一定时间范围内用常规软件工具进行捕捉、管理和处理的数据集合，是需要新处理模式才能具有更强的决策力、洞察发现力和流程优化能力的海量、高增长率和多样化的信息资产。")]),s._v(" "),n("p",[s._v("主要解决，海量数据的"),n("strong",[s._v("存储")]),s._v("和海量数据的"),n("strong",[s._v("分析计算")]),s._v("问题。")]),s._v(" "),n("p",[s._v("最小的基本单位是bit，按顺序给出所有单位：bit、Byte、KB、MB、GB、TB、PB、EB、ZB、YB、BB、NB、DB。")]),s._v(" "),n("ul",[n("li",[s._v("1 Byte =8 bit")]),s._v(" "),n("li",[s._v("1 KB = 1,024 Bytes")]),s._v(" "),n("li",[s._v("1 MB = 1,024 KB")]),s._v(" "),n("li",[s._v("1 GB = 1,024 MB")]),s._v(" "),n("li",[s._v("1 TB = 1,024 GB")]),s._v(" "),n("li",[s._v("1 PB = 1,024 TB")])]),s._v(" "),n("h3",{attrs:{id:"_1-2-大数据的特点（4v）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-大数据的特点（4v）"}},[s._v("#")]),s._v(" 1.2 大数据的特点（4V）")]),s._v(" "),n("p",[n("strong",[s._v("1、Volume（大量）")])]),s._v(" "),n("p",[s._v("​\t社交网络（微博、推特、脸书）、移动网络、各种智能工具，服务工具等，都成为数据的来源。淘宝网近4亿的会员每天产生的商品交易数据约20TB；脸书约10亿的用户每天产生的日志数据超过300TB。")]),s._v(" "),n("p",[n("strong",[s._v("2、Velocity（高速）")])]),s._v(" "),n("p",[s._v("​\t大数据的产生非常迅速，主要通过互联网传输。生活中每个人都离不开互联网，也就是说每天个人每天都在向大数据提供大量的资料。并且这些数据是需要及时处理的，因为花费大量资本去存储作用较小的历史数据是非常不划算的，对于一个平台而言，也许保存的数据只有过去几天或者一个月之内，再远的数据就要及时清理，不然代价太大。基于这种情况，大数据对处理速度有非常严格的要求，服务器中大量的资源都用于处理和计算数据，很多平台都需要做到实时分析。数据无时无刻不在产生，谁的速度更快，谁就有优势。")]),s._v(" "),n("p",[n("strong",[s._v("3、Variety（多样）")])]),s._v(" "),n("p",[s._v("广泛的数据来源，决定了大数据形式的多样性。任何形式的数据都可以产生作用，目前应用最广泛的就是推荐系统，如淘宝，网易云音乐、今日头条等，这些平台都会通过对用户的日志数据进行分析，从而进一步推荐用户喜欢的东西。日志数据是"),n("strong",[s._v("结构化明显的数据")]),s._v("，还有一些"),n("strong",[s._v("数据结构化不明显")]),s._v("，例如图片、音频、视频等，这些数据因果关系弱，就需要人工对其进行标注。")]),s._v(" "),n("p",[n("strong",[s._v("4、value（价值）")])]),s._v(" "),n("p",[s._v("这也是大数据的核心特征。现实世界所产生的数据中，有价值的数据所占比例很小。相比于传统的小数据，大数据最大的价值在于通过从大量不相关的各种类型的数据中，挖掘出对未来趋势与模式预测分析有价值的数据，并通过机器学习方法、人工智能方法或数据挖掘方法深度分析，发现新规律和新知识，并运用于农业、金融、医疗等各个领域，从而最终达到改善社会治理、提高生产效率、推进科学研究的效果。")]),s._v(" "),n("h3",{attrs:{id:"_1-3-大数据的应用场景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-大数据的应用场景"}},[s._v("#")]),s._v(" 1.3 大数据的应用场景")]),s._v(" "),n("p",[s._v("1、物流仓储：大数据分析系统助力商家精细化运营、提升销量、节约成本。")]),s._v(" "),n("p",[n("img",{attrs:{src:t(466),alt:""}})]),s._v(" "),n("p",[s._v("2、零售：分析用户消费习惯，为用户购买商品提供方便，从而提升商品销量。经典案例：尿布+啤酒")]),s._v(" "),n("p",[n("img",{attrs:{src:t(467),alt:""}})]),s._v(" "),n("p",[s._v("3、旅游：深度结合大数据能力与旅游行业需求，共建旅游产业智慧管理、智慧服务和智慧营销的未来。")]),s._v(" "),n("p",[n("img",{attrs:{src:t(468),alt:""}})]),s._v(" "),n("p",[s._v("4、商品广告推荐：给用户推荐可能喜欢的产品")]),s._v(" "),n("p",[n("img",{attrs:{src:t(469),alt:""}})]),s._v(" "),n("p",[s._v("5、保险：海量数据挖掘及风险预测，助力保险行业精准营销，提升精细化定价能力。")]),s._v(" "),n("p",[s._v("6、金融：多维度体现用户特征，帮助金融机构推荐优质用户，防范欺诈风险。")]),s._v(" "),n("p",[s._v("7、房产：大数据全面助力房地产行业，打造精准投策与营销，选出更合适的迪，建造更合适的楼，卖给更合适的人。")]),s._v(" "),n("p",[s._v("8、人工智能")]),s._v(" "),n("p",[n("img",{attrs:{src:t(470),alt:""}})]),s._v(" "),n("h3",{attrs:{id:"_1-4-大数据部门组织结构（重点）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-大数据部门组织结构（重点）"}},[s._v("#")]),s._v(" 1.4 大数据部门组织结构（重点）")]),s._v(" "),n("p",[n("img",{attrs:{src:t(471),alt:""}})]),s._v(" "),n("h2",{attrs:{id:"_2、从hadoop框架讨论大数据生态"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2、从hadoop框架讨论大数据生态"}},[s._v("#")]),s._v(" 2、从Hadoop框架讨论大数据生态")]),s._v(" "),n("h3",{attrs:{id:"_2-1-hadoop是什么"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-hadoop是什么"}},[s._v("#")]),s._v(" 2.1 Hadoop是什么")]),s._v(" "),n("ol",[n("li",[s._v("Hadoop是一个由Apache基金会所开发的"),n("a",{attrs:{href:"https://baike.baidu.com/item/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F/4905336",target:"_blank",rel:"noopener noreferrer"}},[s._v("分布式系统"),n("OutboundLink")],1),s._v("基础架构。")]),s._v(" "),n("li",[s._v("主要解决，海量数据的"),n("strong",[s._v("存储")]),s._v("和海量数据的"),n("strong",[s._v("分析计算")]),s._v("问题。")]),s._v(" "),n("li",[s._v("广义上来说，Hadoop通常是指一个更广泛的概念---Hadoop生态圈。")])]),s._v(" "),n("p",[n("img",{attrs:{src:t(472),alt:""}})]),s._v(" "),n("h3",{attrs:{id:"_2-2-hadoop发展历史"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-hadoop发展历史"}},[s._v("#")]),s._v(" 2.2 Hadoop发展历史")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("Hadoop是Apache Lucene创始人Doug Cutting创建的，Lucene是一个广泛使用的文本搜索系统库。Hadoop起源于Apache Nutch，一个开源的网络搜索引擎， 它本身也是Lucene项目的一部分。")])]),s._v(" "),n("li",[n("p",[s._v("2005年，Hadoop作为Lucene的子项目Nutch的一部分正式引入Apache基金会。")])]),s._v(" "),n("li",[n("p",[s._v("2006年2月被分离出来，成为一套完整独立的软件，起名为Hadoop")])]),s._v(" "),n("li",[n("p",[s._v("Hadoop名字不是一个缩写，而是一个生造出来的词。是Hadoop之父Doug Cutting儿子毛绒玩具象命名的。")])]),s._v(" "),n("li",[n("p",[s._v("Hadoop的成长过程：Lucene–>Nutch—>Hadoop")])]),s._v(" "),n("li",[n("p",[s._v("总结起来，Hadoop起源于Google的"),n("strong",[s._v("三大论文")]),s._v("：")]),s._v(" "),n("ul",[n("li",[s._v("GFS：Google的分布式文件系统Google File System")]),s._v(" "),n("li",[s._v("MapReduce：Google的MapReduce开源分布式并行计算框架")]),s._v(" "),n("li",[s._v("BigTable：一个大型的分布式数据库")])])]),s._v(" "),n("li",[n("p",[s._v("演变关系")]),s._v(" "),n("ul",[n("li",[s._v("GFS—->HDFS")]),s._v(" "),n("li",[s._v("Google MapReduce—->Hadoop MapReduce")]),s._v(" "),n("li",[s._v("BigTable—->HBase")])])])]),s._v(" "),n("h3",{attrs:{id:"_2-3-hadoop-三大发行版本"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-hadoop-三大发行版本"}},[s._v("#")]),s._v(" 2.3 Hadoop 三大发行版本")]),s._v(" "),n("p",[n("strong",[s._v("1.免费开源版本apache：")]),s._v("\nhttp://hadoop.apache.org/\n优点：拥有全世界的开源贡献者，代码更新迭代版本比较快，\n缺点：版本的升级，版本的维护，版本的兼容性，版本的补丁都可能考虑不太周到，学习可以用，实际生产工作环境尽量不要使用\napache所有软件的下载地址（包括各种历史版本）：\nhttp://archive.apache.org/dist/")]),s._v(" "),n("p",[n("strong",[s._v("2.免费开源版本hortonWorks：")]),s._v("\nhttps://hortonworks.com/\nhortonworks主要是雅虎主导Hadoop开发的副总裁，带领二十几个核心成员成立Hortonworks，核心产品软件HDP（ambari），HDF免费开源，并且提供一整套的web管理界面，供我们可以通过web界面管理我们的集群状态，web管理界面软件HDF网址（http://ambari.apache.org/）")]),s._v(" "),n("p",[n("strong",[s._v("3.软件收费版本ClouderaManager:")]),s._v("\nhttps://www.cloudera.com/\ncloudera主要是美国一家大数据公司在apache开源hadoop的版本上，通过自己公司内部的各种补丁，实现版本之间的稳定运行，大数据生态圈的各个版本的软件都提供了对应的版本，解决了版本的升级困难，版本兼容性等各种问题，生产环境强烈推荐使用，在大型互联网公司用的较多。")]),s._v(" "),n("h3",{attrs:{id:"_2-4-hadoop-的优势（4高）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-hadoop-的优势（4高）"}},[s._v("#")]),s._v(" 2.4 Hadoop 的优势（4高）")]),s._v(" "),n("ol",[n("li",[s._v("**高可靠性：**Hadoop底层维护多个数据副本，所以即使Hadoop某个计算元素或存储出现故障，也不会导致数据的丢失。")]),s._v(" "),n("li",[s._v("**高扩展性：**Hadoop是在可用的计算机集群间分配数据并完成计算任务的，这些集群可用方便的扩展到数以千计个节点中。")]),s._v(" "),n("li",[s._v("**高效性：**通过并发数据，Hadoop可以在节点之间动态并行的移动数据，使得速度非常快。")]),s._v(" "),n("li",[s._v("**高容错性：**能够自动将失败的任务重新分配。")])]),s._v(" "),n("h3",{attrs:{id:"_2-5-hadoop组成（面试重点）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-hadoop组成（面试重点）"}},[s._v("#")]),s._v(" 2.5 Hadoop组成（面试重点）")]),s._v(" "),n("p",[n("img",{attrs:{src:t(473),alt:""}})]),s._v(" "),n("h4",{attrs:{id:"_2-5-1-hdfs-架构概述"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-1-hdfs-架构概述"}},[s._v("#")]),s._v(" 2.5.1 HDFS 架构概述")]),s._v(" "),n("p",[n("strong",[s._v("NameNode")]),s._v("：集群当中的主节点，主要用于管理集群当中的各种数据，存储文件的元数据，如文件名，文件目录结构，文件属性，以及每个文件的块列表和块所在的DataNode等。\n"),n("strong",[s._v("secondaryNameNode")]),s._v("：主要能用于hadoop当中元数据信息的辅助管理。\n"),n("strong",[s._v("DataNode")]),s._v("：集群当中的从节点，主要用于存储集群当中的各种数据。")]),s._v(" "),n("h4",{attrs:{id:"_2-5-2-yarn-架构概述"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-2-yarn-架构概述"}},[s._v("#")]),s._v(" 2.5.2 Yarn 架构概述")]),s._v(" "),n("p",[n("img",{attrs:{src:t(474),alt:""}})]),s._v(" "),n("h4",{attrs:{id:"_2-5-3-mapreduce"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-3-mapreduce"}},[s._v("#")]),s._v(" 2.5.3 MapReduce")]),s._v(" "),n("p",[s._v("MapReduce将计算过程分为两个阶段：Map和Reduce")]),s._v(" "),n("ol",[n("li",[s._v("Map阶段并行处理输入数据")]),s._v(" "),n("li",[s._v("Reduce阶段对Map结果进行汇总")])]),s._v(" "),n("p",[n("img",{attrs:{src:t(475),alt:""}})]),s._v(" "),n("h3",{attrs:{id:"_2-6-大数据技术生态体系"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-大数据技术生态体系"}},[s._v("#")]),s._v(" 2.6 大数据技术生态体系")]),s._v(" "),n("p",[n("img",{attrs:{src:t(476),alt:""}})]),s._v(" "),n("p",[s._v("图中涉及的技术名词解释如下：")]),s._v(" "),n("p",[s._v("1）Sqoop：Sqoop是一款开源的工具，主要用于在Hadoop、Hive与传统的数据库(MySql)间进行数据的传递，可以将一个关系型数据库（例如 ：MySQL，Oracle 等）中的数据导进到Hadoop的HDFS中，也可以将HDFS的数据导进到关系型数据库中。")]),s._v(" "),n("p",[s._v("2）Flume：Flume是Cloudera提供的一个高可用的，高可靠的，分布式的海量日志采集、聚合和传输的系统，Flume支持在日志系统中定制各类数据发送方，用于收集数据；同时，Flume提供对数据进行简单处理，并写到各种数据接受方（可定制）的能力。")]),s._v(" "),n("p",[s._v("3）Kafka：Kafka是一种高吞吐量的分布式发布订阅消息系统，有如下特性：")]),s._v(" "),n("p",[s._v("（1）通过O(1)的磁盘数据结构提供消息的持久化，这种结构对于即使数以TB的消息存储也能够保持长时间的稳定性能。")]),s._v(" "),n("p",[s._v("（2）高吞吐量：即使是非常普通的硬件Kafka也可以支持每秒数百万的消息。")]),s._v(" "),n("p",[s._v("（3）支持通过Kafka服务器和消费机集群来分区消息。")]),s._v(" "),n("p",[s._v("（4）支持Hadoop并行数据加载。")]),s._v(" "),n("p",[s._v("4）Storm：Storm用于“连续计算”，对数据流做连续查询，在计算时就将结果以流的形式输出给用户。")]),s._v(" "),n("p",[s._v("5）Spark：Spark是当前最流行的开源大数据内存计算框架。可以基于Hadoop上存储的大数据进行计算。")]),s._v(" "),n("p",[s._v("6）Oozie：Oozie是一个管理Hdoop作业（job）的工作流程调度管理系统。")]),s._v(" "),n("p",[s._v("7）Hbase：HBase是一个分布式的、面向列的开源数据库。HBase不同于一般的关系数据库，它是一个适合于非结构化数据存储的数据库。")]),s._v(" "),n("p",[s._v("8）Hive：Hive是基于Hadoop的一个数据仓库工具，可以将结构化的数据文件映射为一张数据库表，并提供简单的SQL查询功能，可以将SQL语句转换为MapReduce任务进行运行。 其优点是学习成本低，可以通过类SQL语句快速实现简单的MapReduce统计，不必开发专门的MapReduce应用，十分适合数据仓库的统计分析。")]),s._v(" "),n("p",[s._v("10）R语言：R是用于统计分析、绘图的语言和操作环境。R是属于GNU系统的一个自由、免费、源代码开放的软件，它是一个用于统计计算和统计制图的优秀工具。")]),s._v(" "),n("p",[s._v("11）Mahout：Apache Mahout是个可扩展的机器学习和数据挖掘库。")]),s._v(" "),n("p",[s._v("12）ZooKeeper：Zookeeper是Google的Chubby一个开源的实现。它是一个针对大型分布式系统的可靠协调系统，提供的功能包括：配置维护、名字服务、 分布式同步、组服务等。ZooKeeper的目标就是封装好复杂易出错的关键服务，将简单易用的接口和性能高效、功能稳定的系统提供给用户。")]),s._v(" "),n("h3",{attrs:{id:"_2-7-推荐系统项目框架"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-推荐系统项目框架"}},[s._v("#")]),s._v(" 2.7 推荐系统项目框架")]),s._v(" "),n("p",[n("img",{attrs:{src:t(477),alt:""}})]),s._v(" "),n("hr"),s._v(" "),n("h2",{attrs:{id:"_3、hadoop运行环境搭建（开发重点）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3、hadoop运行环境搭建（开发重点）"}},[s._v("#")]),s._v(" 3、Hadoop运行环境搭建（开发重点）")]),s._v(" "),n("h3",{attrs:{id:"_3-1-虚拟机环境准备"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-虚拟机环境准备"}},[s._v("#")]),s._v(" 3.1 虚拟机环境准备")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("克隆虚拟机"),n("RouterLink",{attrs:{to:"/views/paper/虚拟机安装CentOS7镜像.html"}},[s._v("克隆虚拟机详细教程")])],1)]),s._v(" "),n("li",[n("p",[s._v("修改克隆虚拟机的静态IP")])]),s._v(" "),n("li",[n("p",[s._v("修改主机名")])]),s._v(" "),n("li",[n("p",[s._v("关闭防火墙")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("暂时关闭防火墙")])]),s._v(" "),n("li",[n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("systemctl stop firewalld\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("永久关闭防火墙")])]),s._v(" "),n("li",[n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#先暂时关闭")]),s._v("\nsystemctl stop firewalld\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#再永久关闭，这样就不用重启啦")]),s._v("\nsystemctl disable firewalld\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])])])])]),s._v(" "),n("li",[n("p",[s._v("创建xiaoliuya用户")]),s._v(" "),n("ul",[n("li",[n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@CentOS72020clone ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# adduser xiaoliuya")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@CentOS72020clone ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# passwd xiaoliuya")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])]),s._v(" "),n("li",[n("p",[n("img",{attrs:{src:t(478),alt:""}})])])])]),s._v(" "),n("li",[n("p",[s._v("配置xiaoliuya用户具有root权限(详见《尚硅谷大数据之Linux》)")]),s._v(" "),n("ul",[n("li",[n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@CentOS72020clone ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim /etc/sudoers")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[n("img",{attrs:{src:t(479),alt:""}})])])])]),s._v(" "),n("li",[n("p",[s._v("在/opt目录下创建文件夹")]),s._v(" "),n("p",[s._v("（1）在/opt目录下创建module、software文件夹")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone opt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" module\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone opt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" software\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[n("img",{attrs:{src:t(480),alt:""}})]),s._v(" "),n("p",[s._v("（2）修改module、software文件夹的所属者和所属组")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone opt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R xiaoliuya:xiaoliuya module/ software/\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone opt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ ll\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[s._v("总用量 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\ndrwxr-xr-x. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" xiaoliuya xiaoliuya "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":48 module\ndrwxr-xr-x. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" root      root      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("月 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),s._v(" rh\ndrwxr-xr-x. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" xiaoliuya xiaoliuya "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("13")]),s._v(":49 software\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#可以删除rh目录")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone opt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf r/\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])])]),s._v(" "),n("h3",{attrs:{id:"_3-2-安装jdk"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-安装jdk"}},[s._v("#")]),s._v(" 3.2 安装JDK")]),s._v(" "),n("p",[s._v("1.用Xshell和Xftp上传jdk的jar包到opt目录下的software目录下")]),s._v(" "),n("p",[n("img",{attrs:{src:t(481),alt:""}})]),s._v(" "),n("p",[s._v("2.解压到opt目录下的module")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone opt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" software/\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone software"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ ll\n总用量 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("190560")]),s._v("\n-rw-r--r--. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("195132576")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":55 jdk-8u251-linux-x64.tar.gz\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone software"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf jdk-8u251-linux-x64.tar.gz -C /opt/module\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[n("img",{attrs:{src:t(482),alt:""}})]),s._v(" "),n("p",[s._v("3.设置环境变量")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#获取安装路径")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone jdk1.8.0_251"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),s._v("\n/opt/module/jdk1.8.0_251\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#在此文件中设置环境变量")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone opt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/profile\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#打开文件后，在末尾添加如下配置")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("div",{staticClass:"language-properties line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-properties"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##JAVA_HOME")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("JAVA_HOME=/opt/module/jdk1.8.0_251")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token attr-value"}},[s._v("PATH=$PATH:$JAVA_HOME/bin")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#让配置生效")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone jdk1.8.0_251"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/profile\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone jdk1.8.0_251"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ java -version\njava version "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.8.0_251"')]),s._v("\nJava"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("TM"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" SE Runtime Environment "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("build "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.8")]),s._v(".0_251-b08"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nJava HotSpot"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("TM"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("-Bit Server VM "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("build "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25.251")]),s._v("-b08, mixed mode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#如果出现的不是你安装的jdk的版本，可能是自带的")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# java -version")]),s._v("\nopenjdk version "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.8.0_242"')]),s._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#这不是我安装的1.8.0_251版本")]),s._v("\nOpenJDK Runtime Environment "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("build "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.8")]),s._v(".0_242-b08"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nOpenJDK "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("-Bit Server VM "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("build "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("25.242")]),s._v("-b08, mixed mode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#用下面这个命令查看有多少jdk相关的")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# rpm -qa | grep jdk")]),s._v("\njava-1.7.0-openjdk-headless-1.7.0.251-2.6.21.1.el7.x86_64    "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#这个删除")]),s._v("\ncopy-jdk-configs-3.3-10.el7_5.noarch\njava-1.7.0-openjdk-1.7.0.251-2.6.21.1.el7.x86_64\t\t\t "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#这个删除")]),s._v("\njava-1.8.0-openjdk-1.8.0.242.b08-1.el7.x86_64\t\t\t\t "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#这个删除")]),s._v("\njava-1.8.0-openjdk-headless-1.8.0.242.b08-1.el7.x86_64\t\t "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#这个删除")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#使用下面这个命令删除")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -e --nodeps 后面跟系统自带的jdk名 \n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sudo rpm -e --nodeps java-1.7.0-openjdk-headless-1.7.0.251-2.6.21.1.el7.x86_64")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#然后我们自己安装的就生效啦！")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("h3",{attrs:{id:"_3-3-安装hadoop"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-安装hadoop"}},[s._v("#")]),s._v(" 3.3 安装Hadoop")]),s._v(" "),n("p",[s._v("1.用Xshell和Xftp上传linux编译过的hadoop jar包到opt目录下的software目录下")]),s._v(" "),n("p",[n("img",{attrs:{src:t(483),alt:""}})]),s._v(" "),n("p",[s._v("2.解压到opt目录下的module")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone opt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" software/\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone software"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ ll\n总用量 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("383588")]),s._v("\n-rw-r--r--. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("197657687")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(":08 hadoop-2.7.2.tar.gz\n-rw-r--r--. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("195132576")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v("月  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(":55 jdk-8u251-linux-x64.tar.gz\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone software"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf hadoop-2.7.2.tar.gz -C /opt/module/\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[n("img",{attrs:{src:t(484),alt:""}})]),s._v(" "),n("p",[s._v("3.设置环境变量")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),s._v("\n/opt/module/hadoop-2.7.2\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/profile\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#打开文件后，在末尾添加如下配置")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##HADOOP_HOME")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("HADOOP_HOME")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/module/hadoop-2.7.2\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$HADOOP_HOME")]),s._v("/bin\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$HADOOP_HOME")]),s._v("/sbin\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#让配置生效")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/profile\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ hadoop \nUsage: hadoop "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("--config confdir"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("COMMAND "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" CLASSNAME"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  CLASSNAME            run the class named CLASSNAME\n or\n  where COMMAND is one of:\n  fs                   run a generic filesystem user client\n  version              print the version\n  jar "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("jar"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("            run a jar "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v("\n                       note: please use "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"yarn jar"')]),s._v(" to launch\n                             YARN applications, not this command.\n  checknative "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-a"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-h"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  check native hadoop and compression libraries availability\n  distcp "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("srcurl"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("desturl"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" copy "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" or directories recursively\n  archive -archiveName NAME -p "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("parent path"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("src"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("* "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("dest"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" create a hadoop archive\n  classpath            prints the class path needed to get the\n  credential           interact with credential providers\n                       Hadoop jar and the required libraries\n  daemonlog            get/set the log level "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" each daemon\n  trace                view and modify Hadoop tracing settings\n\nMost commands print "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v(" when invoked w/o parameters.\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br")])]),n("h3",{attrs:{id:"_3-4-hadoop目录结构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-hadoop目录结构"}},[s._v("#")]),s._v(" 3.4 Hadoop目录结构")]),s._v(" "),n("p",[s._v("1.查看Hadoop目录结构")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ ll\n总用量 "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v("\ndrwxr-xr-x. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" xiaoliuya xiaoliuya   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("194")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("月  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2017")]),s._v(" bin\ndrwxr-xr-x. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" xiaoliuya xiaoliuya    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("月  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2017")]),s._v(" etc\ndrwxr-xr-x. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" xiaoliuya xiaoliuya   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("106")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("月  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2017")]),s._v(" include\ndrwxr-xr-x. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" xiaoliuya xiaoliuya    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("月  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2017")]),s._v(" lib\ndrwxr-xr-x. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" xiaoliuya xiaoliuya   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("239")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("月  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2017")]),s._v(" libexec\n-rw-r--r--. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" xiaoliuya xiaoliuya "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("15429")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("月  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2017")]),s._v(" LICENSE.txt\n-rw-r--r--. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" xiaoliuya xiaoliuya   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("月  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2017")]),s._v(" NOTICE.txt\n-rw-r--r--. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" xiaoliuya xiaoliuya  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1366")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("月  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2017")]),s._v(" README.txt\ndrwxr-xr-x. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" xiaoliuya xiaoliuya  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4096")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("月  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2017")]),s._v(" sbin\ndrwxr-xr-x. "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" xiaoliuya xiaoliuya    "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("31")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("月  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2017")]),s._v(" share\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("p",[s._v("2.重要目录")]),s._v(" "),n("p",[s._v("（1）bin目录：存放对Hadoop相关服务（HDFS,YARN）进行操作的脚本\n（2）etc目录：Hadoop的配置文件目录，存放Hadoop的配置文件\n（3）lib目录：存放Hadoop的本地库（对数据进行压缩解压缩功能）\n（4）sbin目录：存放启动或停止Hadoop相关服务的脚本\n（5）share目录：存放Hadoop的依赖jar包、文档、和官方案例")]),s._v(" "),n("h2",{attrs:{id:"_4、hadoop运行模式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4、hadoop运行模式"}},[s._v("#")]),s._v(" 4、Hadoop运行模式")]),s._v(" "),n("p",[s._v("Hadoop运行模式包括：本地模式、伪分布式模式以及完全分布式模式。")]),s._v(" "),n("p",[s._v("Hadoop官方网站：http://hadoop.apache.org/")]),s._v(" "),n("h3",{attrs:{id:"_4-1-本地运行模式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-本地运行模式"}},[s._v("#")]),s._v(" 4.1 本地运行模式")]),s._v(" "),n("h4",{attrs:{id:"_4-1-1-官方grep案例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-1-官方grep案例"}},[s._v("#")]),s._v(" 4.1.1 官方Grep案例")]),s._v(" "),n("ol",[n("li",[s._v("在hadoop-2.7.2文件下面创建一个input文件夹")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" input\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ol",{attrs:{start:"2"}},[n("li",[s._v("将Hadoop的xml配置文件复制到input")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" etc/hadoop/*.xml input\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ol",{attrs:{start:"3"}},[n("li",[s._v("执行share目录下的MapReduce程序")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ bin/hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.2.jar "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" input output "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dfs[a-z]+'")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ol",{attrs:{start:"4"}},[n("li",[s._v("查看输出结果")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" output/*\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\tdfsadmin\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h4",{attrs:{id:"_4-1-2-官方wordcount案例-统计单词出现的次数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-2-官方wordcount案例-统计单词出现的次数"}},[s._v("#")]),s._v(" 4.1.2 官方WordCount案例(统计单词出现的次数)")]),s._v(" "),n("ol",[n("li",[s._v("创建在hadoop-2.7.2文件下面创建一个wcinput文件夹")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" wcinput\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ol",{attrs:{start:"2"}},[n("li",[s._v("在wcinput文件下创建一个wc.input文件")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" wcinput/\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone wcinput"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" wc.input\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("ol",{attrs:{start:"3"}},[n("li",[s._v("编辑wc.input文件")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("atguigu@hadoop101 wcinput"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" wc.input\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("在文件中输入如下内容")]),s._v(" "),n("div",{staticClass:"language-txt line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("hadoop yarn\nhadoop mapreduce\natguigu\natguigu\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("保存退出：：wq")]),s._v(" "),n("ol",{attrs:{start:"4"}},[n("li",[n("p",[s._v("回到Hadoop目录/opt/module/hadoop-2.7.2")])]),s._v(" "),n("li",[n("p",[s._v("执行程序")])])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.2.jar wordcount wcinput wcoutput\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ol",{attrs:{start:"6"}},[n("li",[s._v("查看结果")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" wcoutput/part-r-00000\natguigu\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nhadoop\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nmapreduce\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v("\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"_4-2-伪分布式运行模式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-伪分布式运行模式"}},[s._v("#")]),s._v(" 4.2 伪分布式运行模式")]),s._v(" "),n("h4",{attrs:{id:"_4-2-1-启动hdfs并运行mapreduce程序"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-1-启动hdfs并运行mapreduce程序"}},[s._v("#")]),s._v(" 4.2.1 启动HDFS并运行MapReduce程序")]),s._v(" "),n("ol",[n("li",[s._v("分析")])]),s._v(" "),n("p",[s._v("​    （1）配置集群")]),s._v(" "),n("p",[s._v("​    （2）启动、测试集群增、删、查")]),s._v(" "),n("p",[s._v("​    （3）执行WordCount案例")]),s._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[s._v("执行步骤")])]),s._v(" "),n("p",[n("strong",[s._v("（1）配置集群")])]),s._v(" "),n("p",[n("strong",[s._v("配置文件在/opt/module/hadoop-2.7.2/etc/hadoop目录下")])]),s._v(" "),n("blockquote",[n("p",[s._v("（a）配置：hadoop-env.sh")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Linux系统中获取JDK的安装路径：")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JAVA_HOME")]),s._v("\n/opt/module/jdk1.8.0_251\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修改JAVA_HOME 路径：")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone hadoop"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" hadoop-env.sh\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#修改下面这行")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JAVA_HOME")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/module/jdk1.8.0_251\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("blockquote",[n("p",[s._v("（b）配置：core-site.xml")])]),s._v(" "),n("div",{staticClass:"language-xml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- 指定HDFS中NameNode的地址 --\x3e")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("fs.defaultFS"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("hdfs://CentOS72020Clone:9000"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- 指定Hadoop运行时产生文件的存储目录 --\x3e")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("hadoop.tmp.dir"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("/opt/module/hadoop-2.7.2/data/tmp"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("blockquote",[n("p",[s._v("（c）配置：hdfs-site.xml")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("-- 指定HDFS副本的数量 --"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("property"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("dfs.replication"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/name"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("value"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v("<")]),s._v("/value"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/property"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[n("strong",[s._v("（2）启动集群")])]),s._v(" "),n("blockquote",[n("p",[s._v("（a）格式化NameNode（第一次启动时格式化，"),n("strong",[s._v("以后就不要总格式化")]),s._v("）")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ bin/hdfs namenode -format\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("（b）启动NameNode")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ sbin/hadoop-daemon.sh start namenode\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("查看namenode是否启动")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ jps\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2257")]),s._v(" NameNode\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2333")]),s._v(" Jps\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("blockquote",[n("p",[s._v("（c）启动DataNode")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ sbin/hadoop-daemon.sh start datanode\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("查看datanode是否启动")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ jps\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2257")]),s._v(" NameNode\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2387")]),s._v(" DataNode\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2458")]),s._v(" Jps\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[n("strong",[s._v("（3）查看集群")])]),s._v(" "),n("blockquote",[n("p",[s._v("（a）查看是否启动成功")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ jps\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2257")]),s._v(" NameNode\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2387")]),s._v(" DataNode\n"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2458")]),s._v(" Jps\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("13586 NameNode")]),s._v(" "),n("p",[s._v("13668 DataNode")]),s._v(" "),n("p",[s._v("13786 Jps")]),s._v(" "),n("p",[s._v("注意：jps是JDK中的命令，不是Linux命令。不安装JDK不能使用jps")]),s._v(" "),n("blockquote",[n("p",[s._v("（b）web端查看HDFS文件系统")])]),s._v(" "),n("p",[s._v("http://192.168.10.13:50070/")]),s._v(" "),n("blockquote",[n("p",[s._v("（c）查看产生的Log日志")])]),s._v(" "),n("p",[n("strong",[s._v("说明：在企业中遇到Bug时，经常根据日志提示信息去分析问题、解决Bug。")])]),s._v(" "),n("p",[n("strong",[s._v("当前目录：/opt/module/hadoop-2.7.2/logs")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone logs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v("\nhadoop-xiaoliuya-datanode-CentOS72020Clone.log    \nhadoop-xiaoliuya-namenode-CentOS72020Clone.out\nhadoop-xiaoliuya-datanode-CentOS72020Clone.out    \nhadoop-xiaoliuya-namenode-CentOS72020Clone.out.1\nhadoop-xiaoliuya-datanode-CentOS72020Clone.out.1  \nSecurityAuth-xiaoliuya.audit\nhadoop-xiaoliuya-namenode-CentOS72020Clone.log\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("hadoop-atguigu-datanode-hadoop.atguigu.com.log")]),s._v(" "),n("p",[s._v("hadoop-atguigu-datanode-hadoop.atguigu.com.out")]),s._v(" "),n("p",[s._v("hadoop-atguigu-namenode-hadoop.atguigu.com.log")]),s._v(" "),n("p",[s._v("hadoop-atguigu-namenode-hadoop.atguigu.com.out")]),s._v(" "),n("p",[s._v("SecurityAuth-root.audit")]),s._v(" "),n("blockquote",[n("p",[s._v("（d）思考：为什么不能一直格式化NameNode，格式化NameNode，要注意什么？")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" data/tmp/dfs/name/current/\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone current"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" VERSION\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("clusterID")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CID-f0330a58-36fa-4a2a-a65f-2688269b5837\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" data/tmp/dfs/data/current/\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone current"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" VERSION\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("clusterID")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CID-f0330a58-36fa-4a2a-a65f-2688269b5837\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[n("strong",[s._v("注意：格式化NameNode，会产生新的集群id,导致NameNode和DataNode的集群id不一致，集群找不到已往数据。所以，格式NameNode时，一定要先删除data数据和log日志，然后再格式化NameNode。")])]),s._v(" "),n("p",[n("strong",[s._v("（4）操作集群")])]),s._v(" "),n("blockquote",[n("p",[s._v("（a）在HDFS文件系统上创建一个input文件夹")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ bin/hdfs dfs -mkdir -p /user/xiaoliuya/input\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("（b）将测试文件内容上传到文件系统上")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$bin")]),s._v("/hdfs dfs -put wcinput/wc.input /user/xiaoliuya/input/\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("（c）查看上传的文件是否正确")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ bin/hdfs dfs -ls  /user/xiaoliuya/input/\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ bin/hdfs dfs -cat  /user/xiaoliuya/ input/wc.input\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("blockquote",[n("p",[s._v("（d）运行MapReduce程序")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ bin/hadoop jar\nshare/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.2.jar wordcount /user/xiaoliuya/input/ /user/xiaoliuya/output\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("blockquote",[n("p",[s._v("（e）查看输出结果")])]),s._v(" "),n("p",[s._v("命令行查看：")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ bin/hdfs dfs -cat /user/xiaoliuya/output/*\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#输出结果：")]),s._v("\natguigu\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nhadoop\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\nmapreduce\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v("\t"),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("浏览器查看output文件：")]),s._v(" "),n("p",[n("img",{attrs:{src:t(485),alt:""}})]),s._v(" "),n("blockquote",[n("p",[s._v("（f）将测试文件内容下载到本地(浏览器下载也可以)")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ hdfs dfs -get /user/xiaoliuya/output/part-r-00000 ./wcoutput/\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("（g）删除输出结果")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ hdfs dfs -rm -r /user/xiaoliuya/output\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h4",{attrs:{id:"_4-2-2-启动yarn并运行mapreduce程序"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-2-启动yarn并运行mapreduce程序"}},[s._v("#")]),s._v(" 4.2.2 启动YARN并运行MapReduce程序")]),s._v(" "),n("ol",[n("li",[s._v("分析")])]),s._v(" "),n("p",[s._v("​    （1）配置集群在YARN上运行MR")]),s._v(" "),n("p",[s._v("​    （2）启动、测试集群增、删、查")]),s._v(" "),n("p",[s._v("​    （3）在YARN上执行WordCount案例")]),s._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[s._v("执行步骤")])]),s._v(" "),n("p",[n("strong",[s._v("（1）配置集群")])]),s._v(" "),n("blockquote",[n("p",[s._v("（a）配置yarn-env.sh")])]),s._v(" "),n("p",[s._v("配置一下JAVA_HOME，好像也不需要配置")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JAVA_HOME")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/module/jdk1.8.0_251\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("（b）配置yarn-site.xml")])]),s._v(" "),n("div",{staticClass:"language-xml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- Reducer获取数据的方式 shuffle--\x3e")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("yarn.nodemanager.aux-services"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n   "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("mapreduce_shuffle"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n \n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- 指定YARN的ResourceManager的地址，放在哪个服务器 --\x3e")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("yarn.resourcemanager.hostname"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\t"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("CentOS72020Clone"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("blockquote",[n("p",[s._v("（c）配置：mapred-env.sh")])]),s._v(" "),n("p",[s._v("配置一下JAVA_HOME")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JAVA_HOME")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/opt/module/jdk1.8.0_251\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("（d）配置： (对mapred-site.xml.template重新命名为) mapred-site.xml")])]),s._v(" "),n("div",{staticClass:"language-xml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[s._v("[xiaoliuya@CentOS72020Clone hadoop]$ mv mapred-site.xml.template mapred-site.xml\n[xiaoliuya@CentOS72020Clone hadoop]$ vim mapred-site.xml\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- 指定MR运行在YARN上 --\x3e")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("mapreduce.framework.name"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("yarn"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[n("strong",[s._v("（2）启动集群")])]),s._v(" "),n("blockquote",[n("p",[s._v("（a）启动前必须保证NameNode和DataNode已经启动")])]),s._v(" "),n("blockquote",[n("p",[s._v("（b）启动ResourceManager")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ sbin/yarn-daemon.sh start resourcemanager\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("（c）启动NodeManager")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ sbin/yarn-daemon.sh start nodemanager\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("strong",[s._v("（3）集群操作")])]),s._v(" "),n("blockquote",[n("p",[s._v("（a）YARN的浏览器页面查看:http://centos72020clone:8088/cluster")]),s._v(" "),n("p",[s._v("​\t或者：http://192.168.10.13:8088/")])]),s._v(" "),n("p",[n("img",{attrs:{src:t(486),alt:""}})]),s._v(" "),n("blockquote",[n("p",[s._v("（b）删除文件系统上的output文件")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ bin/hdfs dfs -rm -r /user/xiaoliuya/output\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("（c）执行MapReduce程序")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.2.jar wordcount /user/xiaoliuya/input /user/xiaoliuya/output\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("blockquote",[n("p",[s._v("（d）查看运行结果")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ bin/hdfs dfs -cat /user/atguigu/output/*\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:t(487),alt:""}})]),s._v(" "),n("h4",{attrs:{id:"_4-2-3-配置历史服务器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-3-配置历史服务器"}},[s._v("#")]),s._v(" 4.2.3 配置历史服务器")]),s._v(" "),n("p",[s._v("为了查看程序的历史运行情况，需要配置一下历史服务器。具体配置步骤如下：")]),s._v(" "),n("ol",[n("li",[s._v("配置mapred-site.xml")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" mapred-site.xml\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("在该文件里面增加如下配置")]),s._v(" "),n("div",{staticClass:"language-xml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- 历史服务器端地址 --\x3e")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("mapreduce.jobhistory.address"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("CentOS72020Clone:10020"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- 历史服务器web端地址 --\x3e")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("mapreduce.jobhistory.webapp.address"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("CentOS72020Clone:19888"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("ol",{attrs:{start:"2"}},[n("li",[s._v("启动历史服务器")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ sbin/mr-jobhistory-daemon.sh start historyserver\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ol",{attrs:{start:"3"}},[n("li",[s._v("查看历史服务器是否启动")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ jps\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ol",{attrs:{start:"4"}},[n("li",[s._v("查看JobHistory")])]),s._v(" "),n("p",[s._v("http://centos72020clone:19888/jobhistory")]),s._v(" "),n("h4",{attrs:{id:"_4-2-4-配置日志的聚集"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-4-配置日志的聚集"}},[s._v("#")]),s._v(" 4.2.4 配置日志的聚集")]),s._v(" "),n("p",[s._v("日志聚集概念：应用运行完成以后，将程序运行日志信息上传到HDFS系统上。")]),s._v(" "),n("p",[s._v("日志聚集功能好处：可以方便的查看到程序运行详情，方便开发调试。")]),s._v(" "),n("p",[n("strong",[s._v("注意：开启日志聚集功能，需要重新启动NodeManager 、ResourceManager和HistoryManager。")])]),s._v(" "),n("p",[s._v("开启日志聚集功能具体步骤如下：")]),s._v(" "),n("ol",[n("li",[s._v("配置yarn-site.xml")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" yarn-site.xml\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("在该文件里面增加如下配置")]),s._v(" "),n("div",{staticClass:"language-xml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- 日志聚集功能使能 --\x3e")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("yarn.log-aggregation-enable"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("true"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!-- 日志保留时间设置7天 --\x3e")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("yarn.log-aggregation.retain-seconds"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("604800"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("property")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("ol",{attrs:{start:"2"}},[n("li",[s._v("关闭NodeManager 、ResourceManager和HistoryManager")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ sbin/yarn-daemon.sh stop resourcemanager\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ sbin/yarn-daemon.sh stop nodemanager\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ sbin/mr-jobhistory-daemon.sh stop historyserver\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("ol",{attrs:{start:"3"}},[n("li",[s._v("启动NodeManager 、ResourceManager和HistoryManager")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ sbin/yarn-daemon.sh start resourcemanager\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ sbin/yarn-daemon.sh start nodemanager\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ sbin/mr-jobhistory-daemon.sh start historyserver\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("ol",{attrs:{start:"4"}},[n("li",[s._v("删除HDFS上已经存在的输出文件")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ bin/hdfs dfs -rm -R /user/xiaoliuya/output\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ol",{attrs:{start:"5"}},[n("li",[s._v("执行WordCount程序")])]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@CentOS72020Clone hadoop-2.7.2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ hadoop jar\n share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.2.jar wordcount /user/xiaoliuya/input /user/xiaoliuya/output\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("ol",{attrs:{start:"6"}},[n("li",[s._v("查看日志")])]),s._v(" "),n("p",[s._v("http://centos72020clone:19888/jobhistory/logs")]),s._v(" "),n("p",[n("img",{attrs:{src:t(488),alt:""}})]),s._v(" "),n("p",[n("img",{attrs:{src:t(489),alt:""}})]),s._v(" "),n("h4",{attrs:{id:"_4-2-5-配置文件说明"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-5-配置文件说明"}},[s._v("#")]),s._v(" 4.2.5 配置文件说明")]),s._v(" "),n("p",[s._v("Hadoop配置文件分两类：默认配置文件和自定义配置文件，只有用户想修改某一默认配置值时，才需要修改自定义配置文件，更改相应属性值。")]),s._v(" "),n("p",[s._v("（1）默认配置文件：")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("要获取的默认文件")]),s._v(" "),n("th",[s._v("文件存放在Hadoop的jar包中的位置")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("[core-default.xml]")]),s._v(" "),n("td",[s._v("hadoop-common-2.7.2.jar/  core-default.xml")])]),s._v(" "),n("tr",[n("td",[s._v("[hdfs-default.xml]")]),s._v(" "),n("td",[s._v("hadoop-hdfs-2.7.2.jar/  hdfs-default.xml")])]),s._v(" "),n("tr",[n("td",[s._v("[yarn-default.xml]")]),s._v(" "),n("td",[s._v("hadoop-yarn-common-2.7.2.jar/  yarn-default.xml")])]),s._v(" "),n("tr",[n("td",[s._v("[mapred-default.xml]")]),s._v(" "),n("td",[s._v("hadoop-mapreduce-client-core-2.7.2.jar/  mapred-default.xml")])])])]),s._v(" "),n("p",[s._v("（2）自定义配置文件：")]),s._v(" "),n("p",[n("strong",[s._v("core-site.xml、hdfs-site.xml、yarn-site.xml、mapred-site.xml")]),s._v("四个配置文件存放在$HADOOP_HOME/etc/hadoop这个路径上，用户可以根据项目需求重新进行修改配置。")]),s._v(" "),n("h3",{attrs:{id:"_4-3-完全分布式运行模式（开发重点）"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-完全分布式运行模式（开发重点）"}},[s._v("#")]),s._v(" 4.3 完全分布式运行模式（开发重点）")]),s._v(" "),n("p",[s._v("分析：")]),s._v(" "),n("ol",[n("li",[s._v("准备3台客户机（关闭防火墙、静态ip、主机名称）")]),s._v(" "),n("li",[s._v("安装JDK")]),s._v(" "),n("li",[s._v("配置环境变量")]),s._v(" "),n("li",[s._v("安装Hadoop")]),s._v(" "),n("li",[s._v("配置环境变量")]),s._v(" "),n("li",[s._v("配置集群")]),s._v(" "),n("li",[s._v("单点启动")]),s._v(" "),n("li",[s._v("配置ssh")]),s._v(" "),n("li",[s._v("群起并测试集群")])]),s._v(" "),n("h4",{attrs:{id:"_4-3-1-虚拟机准备"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-1-虚拟机准备"}},[s._v("#")]),s._v(" 4.3.1 虚拟机准备")]),s._v(" "),n("p",[s._v("​\t"),n("strong",[s._v("详见3.1章")])]),s._v(" "),n("h4",{attrs:{id:"_4-3-2-编写集群分发脚本xsync"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-2-编写集群分发脚本xsync"}},[s._v("#")]),s._v(" 4.3.2 编写集群分发脚本xsync")]),s._v(" "),n("h5",{attrs:{id:"_1-scp（secure-copy）安全拷贝"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-scp（secure-copy）安全拷贝"}},[s._v("#")]),s._v(" 1. scp（secure copy）安全拷贝")]),s._v(" "),n("blockquote",[n("p",[s._v("scp定义：")])]),s._v(" "),n("p",[s._v("scp可以实现服务器与服务器之间的数据拷贝。（from server1 to server2）")]),s._v(" "),n("blockquote",[n("p",[s._v("基本语法：")])]),s._v(" "),n("p",[s._v("scp        -r               $pdir/$fname               $user@hadoop$host:$pdir/$fname")]),s._v(" "),n("p",[s._v("命令     递归    要拷贝的文件路径/名称        目的用户@主机:目的路径/名称")]),s._v(" "),n("blockquote",[n("p",[s._v("案例实操：")])]),s._v(" "),n("ol",[n("li",[n("p",[s._v("在hadoop101上，将hadoop101中/opt/module目录下的软件拷贝到hadoop102上。")]),s._v(" "),n("ul",[n("li",[n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@hadoop101 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -r /opt/module/ root@hadoop102:/opt/module/\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])])])]),s._v(" "),n("li",[n("p",[s._v("在hadoop103上，将hadoop101服务器上的/opt/module目录下的软件拷贝到hadoop103上。")]),s._v(" "),n("ul",[n("li",[n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@hadoop103 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -r xiaoliuya@hadoop101:/opt/module root@hadoop103:/opt/module\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])])])]),s._v(" "),n("li",[n("p",[s._v("在hadoop103上操作将hadoop101中/opt/module目录下的软件拷贝到hadoop104上。")]),s._v(" "),n("ul",[n("li",[n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@hadoop103 opt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -r xiaoliuya@hadoop101:/opt/module root@hadoop104:/opt/module\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("注意：拷贝过来的/opt/module目录，别忘了在hadoop102、hadoop103、hadoop104上修改所有文件的，所有者和所有者组。")])]),s._v(" "),n("li",[n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" xiaoliuya:xiaoliuya -R /opt/module\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])])])]),s._v(" "),n("li",[n("p",[s._v("将hadoop101中/etc/profile文件拷贝到hadoop102的/etc/profile上。")]),s._v(" "),n("ul",[n("li",[n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@hadoop101 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" /etc/profile root@hadoop102:/etc/profile\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])])])]),s._v(" "),n("li",[n("p",[s._v("将hadoop101中/etc/profile文件拷贝到hadoop103的/etc/profile上。")]),s._v(" "),n("ul",[n("li",[n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("atguigu@hadoop101 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" /etc/profile root@hadoop103:/etc/profile\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("注意：拷贝过来的配置文件别忘了source一下/etc/profile。")])]),s._v(" "),n("li",[n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@hadoop101 /"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" /etc/profile\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])])])])]),s._v(" "),n("h5",{attrs:{id:"_2-rsync-远程同步工具"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-rsync-远程同步工具"}},[s._v("#")]),s._v(" 2. rsync 远程同步工具")]),s._v(" "),n("p",[s._v("rsync主要用于备份和镜像。具有速度快、避免复制相同内容和支持符号链接的优点。")]),s._v(" "),n("p",[s._v("rsync和scp区别：用rsync做文件的复制要比scp的速度快，rsync只对差异文件做更新。scp是把所有文件都复制过去。")]),s._v(" "),n("blockquote",[n("p",[s._v("基本语法：")])]),s._v(" "),n("p",[s._v("rsync         -rvl                   $pdir/$fname               $user@hadoop$host:$pdir/$fname")]),s._v(" "),n("p",[s._v("命令      选项参数       要拷贝的文件路径/名称           目的用户@主机:目的路径/名称")]),s._v(" "),n("p",[s._v("选项参数说明：")]),s._v(" "),n("table",[n("thead",[n("tr",[n("th",[s._v("选项")]),s._v(" "),n("th",[s._v("功能")])])]),s._v(" "),n("tbody",[n("tr",[n("td",[s._v("-r")]),s._v(" "),n("td",[s._v("递归")])]),s._v(" "),n("tr",[n("td",[s._v("-v")]),s._v(" "),n("td",[s._v("显示复制过程")])]),s._v(" "),n("tr",[n("td",[s._v("-l")]),s._v(" "),n("td",[s._v("拷贝符号连接")])])])]),s._v(" "),n("blockquote",[n("p",[s._v("案例实操：")])]),s._v(" "),n("p",[s._v("把hadoop101机器上的/opt/software目录同步到hadoop102服务器的root用户下的/opt/目录")]),s._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@hadoop101 opt"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rsync")]),s._v(" -rvl /opt/software/ root@hadoop102:/opt/software\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h5",{attrs:{id:"_3-xsync集群分发脚本"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-xsync集群分发脚本"}},[s._v("#")]),s._v(" 3. xsync集群分发脚本")]),s._v(" "),n("blockquote",[n("p",[s._v("需求：循环复制文件到所有节点的相同目录下")])]),s._v(" "),n("blockquote",[n("p",[s._v("需求分析：")])]),s._v(" "),n("ol",[n("li",[n("p",[s._v("rsync命令原始拷贝：")]),s._v(" "),n("ul",[n("li",[n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rsync")]),s._v("  -rvl     /opt/module  \t\t root@hadoop103:/opt/\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])])])]),s._v(" "),n("li",[n("p",[s._v("期望脚本：")]),s._v(" "),n("ul",[n("li",[s._v("xsync要同步的文件名称")])])]),s._v(" "),n("li",[n("p",[s._v("说明：在/home/xiaoliuya/bin这个目录下存放的脚本，xiaoliuya用户可以在系统任何地方直接执行。")])])]),s._v(" "),n("blockquote",[n("p",[s._v("脚本实现:")])]),s._v(" "),n("ol",[n("li",[n("p",[s._v("在/home/xiaoliuya目录下创建bin目录，并在bin目录下xsync创建文件，文件内容如下：")]),s._v(" "),n("ul",[n("li",[n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@hadoop101 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" bin\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@hadoop101 ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" bin/\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@hadoop101 bin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" xsync\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@hadoop101 bin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" xsync\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("在该文件中编写如下代码：")])]),s._v(" "),n("li",[n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#!/bin/bash")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#1 获取输入参数个数，如果没有参数，直接退出")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("pcount")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$#")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("((")]),s._v("pcount"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("then")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" no args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("fi")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#2 获取文件名称")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("p1")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$1")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("fname")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("basename")]),s._v(" $p1"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("fname")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$fname")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#3 获取上级目录到绝对路径")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("pdir")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" -P "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("$(")]),s._v("dirname $p1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("pwd")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("pdir")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$pdir")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#4 获取当前用户名称")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("user")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("whoami")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#5 循环")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("((")]),s._v("host"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("103")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" host"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("105")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" host"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("))")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" ------------------- hadoop"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$host")]),s._v(" --------------\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("rsync")]),s._v(" -rvl "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$pdir")]),s._v("/"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$fname")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$user")]),s._v("@hadoop"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$host")]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$pdir")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br")])])])])]),s._v(" "),n("li",[n("p",[s._v("修改脚本 xsync 具有执行权限")]),s._v(" "),n("ul",[n("li",[n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@hadoop101 bin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" xsync\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])])])]),s._v(" "),n("li",[n("p",[s._v("调用脚本形式：xsync 文件名称")]),s._v(" "),n("ul",[n("li",[n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("xiaoliuya@hadoop101 bin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ xsync /home/xiaoliuya/bin\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("注意：如果将xsync放到/home/xiaoliuya/bin目录下仍然不能实现全局使用，可以将xsync移动到/usr/local/bin目录下。")])])])])]),s._v(" "),n("h4",{attrs:{id:"_4-3-3-集群配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-3-集群配置"}},[s._v("#")]),s._v(" 4.3.3 集群配置")])])}),[],!1,null,null,null);a.default=e.exports}}]);